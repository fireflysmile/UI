<app-application-review-card [class.readonly]="completed || viewType === 'checker'">
  <app-application-review-card-title title="Experience Details">
    <app-edit-form-actions left
      (save)="save()"
      (cancel)="cancel()"
      (edit)="edit()"
      [isEditing]="isEditing">
    </app-edit-form-actions>
    <app-card-action-item right icon="download" [freeWidth]="true" (click)="download()">Download Application</app-card-action-item>
  </app-application-review-card-title>

  <table>
    <tbody *ngFor="let person of tableData">
      <tr>
        <td class="th section-header" colspan="8">{{ person.name }}</td>
      </tr>
      <tr>
        <td class="th">Sr. No.</td>
        <td class="th" *ngFor="let column of columns">
          {{ column.label }}
        </td>
        <td class="th action">
          <app-application-review-table-action-header
            [action]="action">
          </app-application-review-table-action-header>
        </td>
      </tr>
      <tr *ngFor="let experience of person.experiences; let i=index">
        <td>{{ i + 1 }}</td>
        <td *ngFor="let column of columns">
          <app-application-review-table-cell
            [data]="experience"
            [column]="column"
            [isEditing]="isEditing">
          </app-application-review-table-cell>
        </td>
        <td class="action">
          <app-application-review-table-action
            [action]="action"
            (reset)="reset(person, experience)"
            (add)="addToReview('Experience Details', person.id)">
          </app-application-review-table-action>
        </td>
      </tr>
    </tbody>
  </table>

</app-application-review-card>

<app-modal *ngIf="showValidationErrorModal">
  <app-alert-message [message]="validationErrorMessage" (close)="showValidationErrorModal = false"></app-alert-message>
</app-modal>
