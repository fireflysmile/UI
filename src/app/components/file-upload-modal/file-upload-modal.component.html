<app-modal-container>
  <app-modal-content>
    <!-- close button -->
    <svg
      (click)="tsModalRef.close()"
      class="cm-close"
      xmlns="http://www.w3.org/2000/svg" width="26.376" height="26.376" viewBox="0 0 26.376 26.376">
      <g class="cm-close-group" fill="#e26b2d">
        <path
          d="M 13.18797016143799 25.37594032287598 C 9.932450294494629 25.37594032287598 6.871780395507813 24.10816955566406 4.569780349731445 21.80615997314453 C 2.267770051956177 19.50415992736816 1.00000011920929 16.44349098205566 1.00000011920929 13.18797016143799 C 1.00000011920929 9.932450294494629 2.267770051956177 6.871780395507813 4.569780349731445 4.569780349731445 C 6.871780395507813 2.267770051956177 9.932450294494629 1.00000011920929 13.18797016143799 1.00000011920929 C 16.44349098205566 1.00000011920929 19.50415992736816 2.267770051956177 21.80615997314453 4.569780349731445 C 24.10816955566406 6.871780395507813 25.37594032287598 9.932450294494629 25.37594032287598 13.18797016143799 C 25.37594032287598 16.44349098205566 24.10816955566406 19.50415992736816 21.80615997314453 21.80615997314453 C 19.50415992736816 24.10816955566406 16.44349098205566 25.37594032287598 13.18797016143799 25.37594032287598 Z"
          stroke="none"/>
        <path
          d="M 13.18797016143799 2 C 10.19955062866211 2 7.390010833740234 3.163749694824219 5.276880264282227 5.276880264282227 C 3.163749694824219 7.390010833740234 2 10.19955062866211 2 13.18797016143799 C 2 16.1763801574707 3.163749694824219 18.98592948913574 5.276880264282227 21.09906005859375 C 7.390010833740234 23.21219062805176 10.19955062866211 24.37594032287598 13.18797016143799 24.37594032287598 C 16.1763801574707 24.37594032287598 18.98592948913574 23.21219062805176 21.09906005859375 21.09906005859375 C 23.21219062805176 18.98592948913574 24.37594032287598 16.1763801574707 24.37594032287598 13.18797016143799 C 24.37594032287598 10.19955062866211 23.21219062805176 7.390010833740234 21.09906005859375 5.276880264282227 C 18.98592948913574 3.163749694824219 16.1763801574707 2 13.18797016143799 2 M 13.18797016143799 0 C 20.47148132324219 0 26.37594032287598 5.904449462890625 26.37594032287598 13.18797016143799 C 26.37594032287598 20.47148132324219 20.47148132324219 26.37594032287598 13.18797016143799 26.37594032287598 C 5.904449462890625 26.37594032287598 0 20.47148132324219 0 13.18797016143799 C 0 5.904449462890625 5.904449462890625 0 13.18797016143799 0 Z"
          stroke="none" fill="#fff"/>
      </g>
      <path id="path"
            d="M15.4,6.04,14.359,5,10.2,9.16,6.04,5,5,6.04,9.16,10.2,5,14.359,6.04,15.4l4.16-4.16,4.16,4.16,1.04-1.04-4.16-4.16Z"
            transform="translate(2.799 2.799)" fill="#fff" fill-rule="evenodd"/>
    </svg>

    <!-- header -->
    <div class="cm-header">
      <!-- title -->
      <div class="cm-title">
        Upload Files
      </div>

      <!-- hint -->
      <i class="cm-hint cm-oblique-description">
        Please upload file in standard format. Please refer<br/>
        to the ESN website for file format.
      </i>
    </div>

    <!-- uploaded file name -->
    <div class="cm-uploaded">
      <!-- label -->
      <div class="cm-uploaded-label">
        {{uploaded ? uploaded.name : 'No File Uploaded'}}
      </div>
    </div>

    <!-- error -->
    <div
      *ngIf="error"
      class="em-error">
      <svg xmlns="http://www.w3.org/2000/svg" width="9" height="9" viewBox="0 0 9 9">
        <circle cx="4.5" cy="4.5" r="4.5" fill="#f30f0f"/>
        <path
          d="M4.458.911l-1.4,1.4,1.4,1.4a.532.532,0,1,1-.753.753l-1.4-1.4-1.4,1.4a.532.532,0,0,1-.753-.753l1.4-1.4L.156.911A.532.532,0,1,1,.909.158l1.4,1.4,1.4-1.4a.532.532,0,0,1,.753.753Z"
          transform="translate(2.251 2.246)" fill="#fff"/>
      </svg>

      <span>
        {{error}}
      </span>
    </div>

    <!-- stroke button -->
    <button
      (click)="file.click()"
      appStrokeButton
      color="primary">
      Browse
    </button>

    <input
      #file
      (change)="onFileChange($event)"
      [accept]="data.accepts"
      hidden
      type="file"/>
  </app-modal-content>

  <!-- actions -->
  <app-modal-actions>
    <button
      (click)="tsModalRef.close(uploaded)"
      [disabled]="!uploaded || error"
      appFlatButton
      color="primary">
      upload
    </button>
  </app-modal-actions>
</app-modal-container>
